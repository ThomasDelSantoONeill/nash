[{"path":"https://thomasdelsantooneill.github.io/nash/articles/nash.html","id":"r-markdown","dir":"Articles","previous_headings":"","what":"R Markdown","title":"Untitled","text":"R Markdown document. Markdown simple formatting syntax authoring HTML, PDF, MS Word documents. details using R Markdown see http://rmarkdown.rstudio.com. click Knit button document generated includes content well output embedded R code chunks within document. can embed R code chunk like :","code":"summary(cars) ##      speed           dist        ##  Min.   : 4.0   Min.   :  2.00   ##  1st Qu.:12.0   1st Qu.: 26.00   ##  Median :15.0   Median : 36.00   ##  Mean   :15.4   Mean   : 42.98   ##  3rd Qu.:19.0   3rd Qu.: 56.00   ##  Max.   :25.0   Max.   :120.00"},{"path":"https://thomasdelsantooneill.github.io/nash/articles/nash.html","id":"including-plots","dir":"Articles","previous_headings":"","what":"Including Plots","title":"Untitled","text":"can also embed plots, example:  Note echo = FALSE parameter added code chunk prevent printing R code generated plot.","code":""},{"path":"https://thomasdelsantooneill.github.io/nash/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Thomas Julian Del Santo O'Neill. Maintainer, author. Axel Gerhard Rossberg. Author.","code":""},{"path":"https://thomasdelsantooneill.github.io/nash/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Del Santo O'Neill T, Rossberg (2024). nash: Efficient Algorithm Nash Equilibria Harvesting Interacting Living Resources. R package version 0.1.0, https://thomasdelsantooneill.github.io/nash/, https://github.com/ThomasDelSantoONeill/nash.","code":"@Manual{,   title = {nash: An Efficient Algorithm for Nash Equilibria when Harvesting Interacting Living Resources},   author = {Thomas Julian {Del Santo O'Neill} and Axel Gerhard Rossberg},   year = {2024},   note = {R package version 0.1.0, https://thomasdelsantooneill.github.io/nash/},   url = {https://github.com/ThomasDelSantoONeill/nash}, }"},{"path":[]},{"path":"https://thomasdelsantooneill.github.io/nash/index.html","id":"quick-start","dir":"","previous_headings":"","what":"Quick Start","title":"An Efficient Algorithm for Nash Equilibria when Harvesting Interacting\n    Living Resources","text":"goal nash compute Nash (1951) Equilibrium (NE) harvesting rates naturally occurring species biologically interact e.g. predation /competition. NE harvesting rates mean exploit species wild mixture rates deviation rate can increase long-term yield species (Farcas Rossberg 2016). algorithms implemented nash assume users developed ecosystem model S harvested compartments, typically represented population biomass variables. simplest case, population dynamics given system autonomous ordinary differential equations general form: $$\\frac{d\\mathbf{B}}{dt}=\\mathbf{f}(\\mathbf{B})\\circ\\mathbf{B}-\\mathbf{F}\\circ\\mathbf{B},$$ B representing non-negative biomass state vector (dimensions MASS), f(B) specifying population growth (decay) rate absence exploitation (dimensions 1/TIME) last term describing removal (e.g. harvesting /culling) rate F (dimensions 1/TIME). addition, ∘ denotes entry-wise Hadamard product. run nash, user required define R function runs model given F values returns yields stable equilibrium Y = F ∘ B* = F ∘ B*(F). nash function approximate model near equilibrium via multispecies Lotka-Volterra (LV) model, NE can computed analytically first estimation optimal F obtained. Subsequently, updated LV approximation calculated near equilibrium given new F. nash re-compute NE starting new iteration (user-adjustable) convergence threshold F reached.","code":""},{"path":"https://thomasdelsantooneill.github.io/nash/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"An Efficient Algorithm for Nash Equilibria when Harvesting Interacting\n    Living Resources","text":"can install development version nash either devtools (Wickham et al. 2022) remotes (Csárdi et al. 2023) packages:","code":"# install.packages(\"devtools\") remotes::install_github(\"ThomasDelSantoONeill/nash\")"},{"path":"https://thomasdelsantooneill.github.io/nash/index.html","id":"minimal-example","dir":"","previous_headings":"","what":"Minimal Example","title":"An Efficient Algorithm for Nash Equilibria when Harvesting Interacting\n    Living Resources","text":"following chunk code implements modified two-species competitive LV model HQLV showcases execution nash. example, HQLV function also includes numerical integration solver via deSolve package Soetaert, Petzoldt, Setzer (2010) returns long-term yields given harvesting rates. setting yield.curves argument within nash call equal TRUE, possible graphically verify “fleet can attain higher yields changing corresponding harvesting rates”.","code":"# Load libraries . library (deSolve) # ODE solver library library (nash) # Initial conditions and parameters . y <- c(b1 = 0.02, b2 = 0.001) parameters <- c(r1 = 1, r2 = 1,                 a11 = 1, a12 = 0.5,                 a21 = 0.25, a22 = 1) time <- 1:100 # Numerical fudge to avoid biomasses becoming negative . inv <- 1e-5 # Model formulation . HQLV <- function(par, avg.window = 10) {   derivs <- function(time, y, parameters) {     with (as.list(c(y, parameters)), {       db1.dt = b1*(r1-a11*b1-a12*b2^2) - par[1]*b1 + inv       db2.dt = b2*(r2-a22*b2-a21*b1^2) - par[2]*b2 + inv       return(list(c(db1.dt, db2.dt)))       })   }   # Default integrator in deSolve   simulation <- ode(y = y, times = time, func = derivs,                     parms = c(parameters, par))   # Yield computation   yields <- array(dim = c(nrow(simulation), length(par)))   for(i in 1:nrow(simulation)) {     yields[i,] <- simulation[i, -1] * par   }   return(colMeans(tail(yields, n = avg.window))) } # Execution of nash NE <- nash(par = c(0.2, 0.3), fn = HQLV, progress = FALSE) # Results print(NE) #> $par #>           [,1]     [,2] #> [4,] 0.4101201 0.444264 #>  #> $Bnash #>           [,1]      [,2] #> [4,] 0.4639249 0.5019498 #>  #> $value #> [1] 0.1902649 0.2229980 #>  #> $counts #> [1] 20 #>  #> $convergence #> [1] \"Nash equilibrium found after  4  iterations.\""},{"path":"https://thomasdelsantooneill.github.io/nash/index.html","id":"assistance","dir":"","previous_headings":"","what":"Assistance","title":"An Efficient Algorithm for Nash Equilibria when Harvesting Interacting\n    Living Resources","text":"encounter bug, please file issue minimal reproducible example GitHub. questions discussions/enhancements please email t.j.delsantooneill@qmul.ac.uk.","code":""},{"path":[]},{"path":"https://thomasdelsantooneill.github.io/nash/reference/fn_rpath.html","id":null,"dir":"Reference","previous_headings":"","what":"Computes long-term equilibrium yields for Rpath-package models — fn_rpath","title":"Computes long-term equilibrium yields for Rpath-package models — fn_rpath","text":"Viable fn used input nash Rpath-package used operating ecological model (see Lucey2020 details) . fn_rpath takes harvesting rates numeric type vector par returning simulated yields equilibrium.","code":""},{"path":"https://thomasdelsantooneill.github.io/nash/reference/fn_rpath.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Computes long-term equilibrium yields for Rpath-package models — fn_rpath","text":"","code":"fn_rpath(   par,   simul.years = 100,   aged.str = TRUE,   data.years,   IDnames,   rsim.mod,   rpath.params,   avg.window = 10,   integration.method = \"RK4\" )"},{"path":"https://thomasdelsantooneill.github.io/nash/reference/fn_rpath.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Computes long-term equilibrium yields for Rpath-package models — fn_rpath","text":"par Double type numeric vector harvesting rates length equal number harvested species NE desired. simul.years Forward simulation time years. aged.str Logical TRUE/FALSE multistanza functional groups included model. data.years Numeric vector indicating years worth data used parameterise Rpath model. IDnames Character vector names species Nash Equilibrium harvesting rates computed. Note names must coincide ones used construction Rpath model. rsim.mod Rpath's rsim.scenario object. rpath.params Rpath's rpath.parameters object. avg.window Numeric type vector indicating time window used average equilibrium yields. integration.method Numerical integration routine used solve rsim.mod object. Character vector values () `RK4` (ii) `AB`.","code":""},{"path":"https://thomasdelsantooneill.github.io/nash/reference/fn_rpath.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Computes long-term equilibrium yields for Rpath-package models — fn_rpath","text":"function fn_rpath returns atomic vector real double-precision long-term yields.","code":""},{"path":"https://thomasdelsantooneill.github.io/nash/reference/fn_rpath.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Computes long-term equilibrium yields for Rpath-package models — fn_rpath","text":"avg.window argument becomes useful case dynamics model reaches steady state (e.g. limit cycle) rather stable point attractor. numerical integration methods implemented rsim.run 4th order Runge-Kutta (RK4) two-step Adams-Bashforth (AB) method. trade-methods accuracy speed, RK4 accurate slower AB method (see Lucey2020 details) . fn_rpath works aged structure models multistanza species partition adults juveniles. fixed harvesting rate ratio adults juveniles computed retained function nash called.","code":""},{"path":"https://thomasdelsantooneill.github.io/nash/reference/fn_rpath.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Computes long-term equilibrium yields for Rpath-package models — fn_rpath","text":"Lucey SM, Gaichas SK, Aydin KY (2020). “Conducting reproducible ecosystem modeling using open source mass balance model Rpath.” Ecological Modelling, 427, 109057. doi:10.1016/j.ecolmodel.2020.109057 .","code":""},{"path":"https://thomasdelsantooneill.github.io/nash/reference/mse_btarget.html","id":null,"dir":"Reference","previous_headings":"","what":"Computes long-term equilibrium biomasses for Rpath-package models — mse_btarget","title":"Computes long-term equilibrium biomasses for Rpath-package models — mse_btarget","text":"Viable fn used input nash Rpath-package used operating ecological model (see Lucey2020 details) . fn_rpath takes harvesting rates numeric type vector par returning simulated biomasses equilibrium.","code":""},{"path":"https://thomasdelsantooneill.github.io/nash/reference/mse_btarget.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Computes long-term equilibrium biomasses for Rpath-package models — mse_btarget","text":"","code":"mse_btarget(   par,   simul.years = 100,   aged.str = TRUE,   data.years,   IDnames,   rsim.mod,   rpath.params,   avg.window = 10,   integration.method = \"RK4\",   verbose = FALSE )"},{"path":"https://thomasdelsantooneill.github.io/nash/reference/mse_btarget.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Computes long-term equilibrium biomasses for Rpath-package models — mse_btarget","text":"par Double type numeric vector harvesting rates length equal number harvested species NE desired. simul.years Forward simulation time years. aged.str Logical TRUE/FALSE multistanza functional groups included model. data.years Numeric vector indicating years worth data used parameterise Rpath model. IDnames Character vector names species Nash Equilibrium harvesting rates computed. Note names must coincide ones used construction Rpath model. rsim.mod Rpath's rsim.scenario object. rpath.params Rpath's rpath.parameters object. avg.window Numeric type vector indicating time window used average equilibrium yields. integration.method Numerical integration routine used solve rsim.mod object. Character vector values () `RK4` (ii) `AB`. verbose Logical TRUE returns time series biomasses.","code":""},{"path":"https://thomasdelsantooneill.github.io/nash/reference/mse_btarget.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Computes long-term equilibrium biomasses for Rpath-package models — mse_btarget","text":"function fn_rpath returns atomic vector real double-precision long-term yields.","code":""},{"path":"https://thomasdelsantooneill.github.io/nash/reference/mse_btarget.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Computes long-term equilibrium biomasses for Rpath-package models — mse_btarget","text":"avg.window argument becomes useful case dynamics model reaches steady state (e.g. limit cycle) rather stable point attractor. numerical integration methods implemented rsim.run 4th order Runge-Kutta (RK4) two-step Adams-Bashforth (AB) method. trade-methods accuracy speed, RK4 accurate slower AB method (see Lucey2020 details) . fn_rpath works aged structure models multistanza species partition adults juveniles. fixed harvesting rate ratio adults juveniles computed retained function nash called.","code":""},{"path":"https://thomasdelsantooneill.github.io/nash/reference/mse_btarget.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Computes long-term equilibrium biomasses for Rpath-package models — mse_btarget","text":"Lucey SM, Gaichas SK, Aydin KY (2020). “Conducting reproducible ecosystem modeling using open source mass balance model Rpath.” Ecological Modelling, 427, 109057. doi:10.1016/j.ecolmodel.2020.109057 .","code":""},{"path":"https://thomasdelsantooneill.github.io/nash/reference/nash.html","id":null,"dir":"Reference","previous_headings":"","what":"Computes harvesting rates at the Nash Equilibrium (NE) — nash","title":"Computes harvesting rates at the Nash Equilibrium (NE) — nash","text":"Takes numeric vector initial harvesting rates optimised (`par`) evaluating objective function maximised (`fn`). structure terms arguments outputs similar optim.","code":""},{"path":"https://thomasdelsantooneill.github.io/nash/reference/nash.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Computes harvesting rates at the Nash Equilibrium (NE) — nash","text":"","code":"nash(   par,   fn,   ...,   method = \"LV\",   yield.curves = FALSE,   conv.criterion = 0.001,   Bcons = 0,   F.increase = 0.1,   progress = TRUE,   track = FALSE )"},{"path":"https://thomasdelsantooneill.github.io/nash/reference/nash.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Computes harvesting rates at the Nash Equilibrium (NE) — nash","text":"par Double type numeric vector harvesting rates length equal number harvested species NE desired. fn Function runs multispecies/ecosystem model par input returns simulated yields equilibrium. ... arguments passed fn. method Method utilised compute Nash Equilibrium: () `LV` (ii) `round-robin` method (see `Details` section specifics). yield.curves Logical TRUE/FALSE equilibrium yield curves optimised species computed. conv.criterion Absolute convergence tolerance set default \\(< 0.001\\). Bcons Constraints biodiversity conservation. Double type numeric vector set \\(0\\) default. F.increase Double type numeric vector indicating step size used compute effective interaction matrix \\(M\\). progress Logical TRUE information progress optimisation produced. track Logical TRUE return fishing mortality rates iteratively computed search.","code":""},{"path":"https://thomasdelsantooneill.github.io/nash/reference/nash.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Computes harvesting rates at the Nash Equilibrium (NE) — nash","text":"function nash returns list following components: par Harvesting rates NE. value Yield values fn corresponding optimised par. counts Number fn evaluations NE. convergence Statement indicating number iterations conv.criterion reached.","code":""},{"path":"https://thomasdelsantooneill.github.io/nash/reference/nash.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Computes harvesting rates at the Nash Equilibrium (NE) — nash","text":"ecosystem models interest keeping harvested species certain biomass state limit, Bcons populated non-zero biomass values. length vector must par set non-zero relevant. literature, common practice fixed constraints biodiversity conservation (Matsuda Abrams 2006)  fraction (e.g. \\(0.1-0.25\\)) unfished biomass \\(B_0\\); biomass threshold stock considered collapsed (Worm et al. 2009) . Equilibrium yield curves obtained \\(\\) species applying different harvesting values \\(\\) whilst keeping species \\(j\\) optimised par levels (.e. \\(\\mathbf{F_{Nash}}\\)). harvesting values applied \\(\\) run \\(0\\) \\(F_{Nash,}\\times 2\\) desired sequence length length.\\(=30\\) (see seq details). raised Thorpe et al. (2017) , one advantages using NE multispecies extension Maximum Sustainable Yield concept. compute interaction matrix second order central difference quotient used approximate derivatives. F.increase employed calculation step-size set default \\(0.1\\) avoid truncation /rounding errors (Pope et al. 2019) . `LV` method set default given performance advantage (Del Santo O'Neill et al. 2023)  `round-robin` method based protocol devised (Farcas Rossberg 2016) . species \\(\\) turn, round-robin iteratively maximises yield adjusting harvesting rates whereas LV simultaneously species per iteration.","code":""},{"path":"https://thomasdelsantooneill.github.io/nash/reference/nash.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Computes harvesting rates at the Nash Equilibrium (NE) — nash","text":"Matsuda H, Abrams PA (2006). “Maximal yields multispecies fisheries systems: rules systems multiple trophic levels.” Ecological Applications, 16(1), 225--237. Worm B, Hilborn R, Baum JK, Branch TA, Collie JS, Costello C, Fogarty MJ, Fulton EA, Hutchings JA, Jennings S, Jensen OP, Lotze HK, Mace PM, McClanahan TR, Minto C, Palumbi SR, Parma , Ricard D, Rosenberg AA, Watson R, Zeller D (2009). “Rebuilding global fisheries.” Science, 325(5940), 578--585. doi:10.1126/science.1173146 . Thorpe RB, Jennings S, Dolder PJ (2017). “Risks benefits catching pretty good yield multispecies mixed fisheries.” ICES Journal Marine Science, 74(8), 2097--2106. doi:10.1093/icesjms/fsx062 . Pope JG, Bartolino V, Kulatska N, Bauer B, Horbowy J, Ribeiro JPC, Sturludottir E, Thorpe R (2019). “Comparing steady state results range multispecies models across geographical areas use jacobian matrix yield fishing mortality rate.” Fisheries Research, 209, 259--270. doi:10.1016/j.fishres.2018.08.011 . Farcas , Rossberg AG (2016). “Maximum sustainable yield interacting fish stocks uncertain world: two policy choices underlying trade-offs.” ICES J Mar Sci, 73(10), 2499--2508. doi:10.1093/icesjms/fsw113 . Lucey SM, Gaichas SK, Aydin KY (2020). “Conducting reproducible ecosystem modeling using open source mass balance model Rpath.” Ecological Modelling, 427, 109057. doi:10.1016/j.ecolmodel.2020.109057 .","code":""}]
